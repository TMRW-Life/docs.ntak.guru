import {Tabs, Callout} from 'nextra/components'
import Protocol from "../../components/protocol";

# List accommodations

This endpoint allows you to retrieve a list of all your accommodations.

## Request

<Protocol method="GET" path="/v1/accommodations" />

<Tabs items={['cURL', 'PHP']}>
  <Tabs.Tab>
    [//]: # (@formatter:off)
    ```bash copy
    curl -G https://api.ntak.guru/v1/accommodations \
      -H "Accept: application/json" \
      -H "Authorization: Bearer {token}"
    ```
    [//]: # (@formatter:on)
  </Tabs.Tab>
  <Tabs.Tab>
    [//]: # (@formatter:off)
    ```php copy
    use TmrwLife\NtakGuru\Services\Accommodation;

    $gateway = Accommodation::setup([
      'accessToken' => {token},
      'isProduction' => false, // default: false
    ]);

    $response = $gateway->index();
    ```
    [//]: # (@formatter:on)
  </Tabs.Tab>
</Tabs>

### URL Search Parameters

| Parameter | Description                              |
|:----------|:-----------------------------------------|
| `page`    | The page number to retrieve.             |
| `perPage` | The number of items per page. Default 25 |
| `q`       | The search query.                        |

## Response

<Tabs items={[200, 401, 403]}>
  <Tabs.Tab>
    <Callout type="info" emoji="ℹ️">
      Read more about the accommodation object on [this page](/accommodations).
    </Callout>
    [//]: # (@formatter:off)
    ```json copy
    {
      "payload": [
        {
          "id": "99845d23-7ffb-4267-85ef-c8d4ac70e46a",
          "slug": "rqdsw",
          "name": "Senger-Cummerata",
          "providerName": null,
          "providerTaxNumber": null,
          "postalCode": null,
          "locality": null,
          "reportingId": null,
          "active": false,
          "hasLiveCertificate": false,
          "hasPendingCertificate": false,
          "callbackUrl": "http://www.ondricka.info/",
          "dailyCloseUrl": "http://www.monahan.com/ea-ratione-magni-qui-facilis-adipisci-saepe-aut-nihil",
          "expireAt": null,
          "roles": [],
          "createdAt": "2023-06-28T07:36:13+00:00",
          "updatedAt": "2023-06-28T07:36:13+00:00",
        }
      ],
      "message": null
    }
    ```
    [//]: # (@formatter:on)
  </Tabs.Tab>
  <Tabs.Tab>
    [//]: # (@formatter:off)
    ```json copy
    {
      "message": "Unauthenticated."
    }
    ```
    [//]: # (@formatter:on)
  </Tabs.Tab>
  <Tabs.Tab>
    [//]: # (@formatter:off)
    ```json copy
    {
      "message": "Unauthorized."
    }
    ```
    [//]: # (@formatter:on)
  </Tabs.Tab>
</Tabs>